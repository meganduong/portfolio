<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home</title>

  <!-- Use your local font file to match p5, with a CDN fallback -->
  <style>
    @font-face {
      font-family: "WorkSansVar";
      src: url("data/WorkSans-VariableFont_wght.ttf") format("truetype");
      font-weight: 100 900;
      font-style: normal;
    }
    /* Optional fallback if the local file path differs */
    @import url("https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600&display=swap");

    :root {
      --pad: clamp(16px, 3vw, 32px);
      --font: "WorkSansVar", "Work Sans", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }

    html, body {
      height: 100%;
      margin: 0;
      background: #fff;
    }

    /* The sketch iframe sits behind the buttons */
    .sketch-frame {
      position: fixed;
      inset: 0;          /* top:0 right:0 bottom:0 left:0 */
      width: 100vw;
      height: 100vh;
      border: 0;
      z-index: 1;
    }

    /* Base styles for the two “buttons” (actually links) */
    .edge-link {
      position: fixed;
      bottom: var(--pad);
      z-index: 2;
      font-family: var(--font);
      font-weight: 500;
      font-size: clamp(14px, 1.6vw, 20px);
      line-height: 1;
      letter-spacing: 0.05em;
      text-decoration: none;
      color: #000;
      background: transparent;
      border: 0;
      padding: 0;
      cursor: pointer;
      transition: opacity 260ms ease, font-weight 200ms ease;

      /* Hidden by default */
      opacity: 0;
      pointer-events: none;
      transition: opacity 260ms ease;
    }
    .edge-link.work    { left:  var(--pad); }
    .edge-link.contact { right: var(--pad); }

    /* When the sketch says “show”, fade them in and enable clicks */
    .show-buttons .edge-link {
      opacity: 1;
      pointer-events: auto;
    }

    /* Optional hover affordance */
    .edge-link:hover { font-weight: 600;
      transition: font-weight 0.2s ease;
    color: #0645AD;}

    .scroll-arrow {
  position: fixed;
  bottom: 10vh;
  left: 50%;
  transform: translateX(-50%);
  width: 48px;
  height: auto;
  z-index: 9999;
  mix-blend-mode: difference; 
  pointer-events: none; 
}

.scroll-arrow img {
  display: block;
  width: clamp(12px, 4vw, 24px); /* responsive size */
  height: auto;
  
}

.hide-arrow .scroll-arrow {
  opacity: 0;
  pointer-events: none;
}


  </style>
</head>
<body>
  
  <main>
    <iframe class="sketch-frame" src="squeeze_text.html"></iframe>

    <a class="scroll-arrow" href="#work">
      <img src="img/arrowwhite.svg" alt="arrow">
    </a>

    <!-- Left / right “buttons” -->
    <a class="edge-link work" href="work.html">Work</a>
    <a class="edge-link contact" href="contact.html">About</a>
  </main>

  <script>
    // Show the links once the text is “small enough”.
    // You can drive this by t (0..1), by sy, or both.
    const THRESH_T  = 0.35; // reveal when at least ~35% through the animation
    const THRESH_SY = 2.2;  // or when vertical scale <= 2.2

    window.addEventListener("message", (e) => {
  const data = e.data || {};
  if (data.type !== "squeeze-progress") return;

  const showButtons = (typeof data.t === "number" && data.t >= THRESH_T) ||
                      (typeof data.sy === "number" && data.sy <= THRESH_SY);

  // Toggle buttons
  document.body.classList.toggle("show-buttons", showButtons);

  // Toggle arrow (inverse of buttons)
  const hideArrow = showButtons;
  document.body.classList.toggle("hide-arrow", hideArrow);
}, false);
  </script>
</body>
</html>
